import{a as o,u as C,j as e,H as S,L as D}from"./app-Cv6QHcjT.js";function E({phoneNumber:a=null,mode:x="create",flash:l={}}){const n=x==="create",h=!n,[b,r]=o.useState(!1),[m,i]=o.useState(!0),{data:j,setData:u,post:f,put:v,delete:p,processing:c,errors:s}=C({first_name:a?.first_name??"",surname:a?.surname??"",phone:a?.phone??"",address_1:a?.address_1??"",address_2:a?.address_2??"",city:a?.city??"",state:a?.state??"",postcode:a?.postcode??""});o.useEffect(()=>{if(l?.success||l?.error){i(!0);const d=setTimeout(()=>{i(!1)},2e3);return()=>clearTimeout(d)}},[l]);const N=d=>{d.preventDefault(),n?f(route("phone_numbers.store")):a&&v(route("phone_numbers.update",a.id))},y=()=>{a&&p(route("phone_numbers.destroy",a.id),{onSuccess:()=>r(!1)})},g=n?"Add Record":"Edit Record",_=n?"New Record":"Edit Record",k=n?"Create New Record":"Save Changes",t=d=>({className:`form-control ${s[d]?"is-invalid":""}`,value:j[d],onChange:w=>u(d,w.target.value),readOnly:!1,disabled:c});return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:g}),e.jsxs("div",{className:"container mt-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h1",{className:"mb-4",children:_}),e.jsx(D,{href:route("phone_numbers.index"),className:"btn btn-secondary mb-4",children:"Back to List"})]}),m&&l?.success&&e.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[l.success,e.jsx("button",{type:"button",className:"btn-close",onClick:()=>i(!1)})]}),m&&l?.error&&e.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[l.error,e.jsx("button",{type:"button",className:"btn-close",onClick:()=>i(!1)})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"First Name"}),e.jsx("input",{type:"text",...t("first_name")}),s.first_name&&e.jsx("div",{className:"invalid-feedback",children:s.first_name})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"Surname"}),e.jsx("input",{type:"text",...t("surname")}),s.surname&&e.jsx("div",{className:"invalid-feedback",children:s.surname})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"Phone"}),e.jsx("input",{type:"text",...t("phone")}),s.phone&&e.jsx("div",{className:"invalid-feedback",children:s.phone})]})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"Address 1"}),e.jsx("input",{type:"text",...t("address_1")}),s.address_1&&e.jsx("div",{className:"invalid-feedback",children:s.address_1})]})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"Address 2"}),e.jsx("input",{type:"text",...t("address_2")}),s.address_2&&e.jsx("div",{className:"invalid-feedback",children:s.address_2})]})}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"City"}),e.jsx("input",{type:"text",...t("city")}),s.city&&e.jsx("div",{className:"invalid-feedback",children:s.city})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"State"}),e.jsx("input",{type:"text",...t("state")}),s.state&&e.jsx("div",{className:"invalid-feedback",children:s.state})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label montserrat-heading",children:"Postcode"}),e.jsx("input",{type:"text",...t("postcode")}),s.postcode&&e.jsx("div",{className:"invalid-feedback",children:s.postcode})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:k}),h&&a&&e.jsx("button",{type:"button",className:"btn btn-danger ms-auto",onClick:()=>r(!0),disabled:c,children:"Delete Record"})]})]})]}),b&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal fade show",tabIndex:"-1",role:"dialog",style:{display:"block"},"aria-modal":"true",children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title montserrat-heading",children:"Confirm Delete"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>r(!1)})]}),e.jsx("div",{className:"modal-body montserrat-text",children:e.jsx("p",{children:"Are you sure you want to delete this record? This cannot be undone."})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>r(!1),disabled:c,children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:y,disabled:c,children:"Delete"})]})]})})}),e.jsx("div",{className:"modal-backdrop fade show"})]})]})}export{E as default};
